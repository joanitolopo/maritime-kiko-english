/* authentic_task_4.css */
.sim4-scene { display:flex; gap:16px; align-items:flex-start; background:#0b1220; padding:16px; border-radius:12px; color:#F9FAFB; font-family: "Open Sans", Arial, sans-serif; position:relative; overflow:visible; }
.left-panel { width:150px; display:flex; flex-direction:column; align-items:center; gap:8px; }
.avatar-ray { width:130px; border-radius:8px; }
.mic-indicator { width:16px; height:16px; background:#94a3b8; border-radius:50%; transition:all .14s; }
.mic-indicator.on { background:#10B981; box-shadow:0 0 10px rgba(16,185,129,0.6); transform: translateY(-2px); }

.main-panel { flex:1; background: rgba(249,250,251,0.96); color:#0B3D91; padding:14px; border-radius:12px; position:relative; }
.top-row { display:flex; justify-content:space-between; align-items:center; }
.sim-badge { background:#F97316; color:#fff; padding:6px 10px; border-radius:12px; font-weight:700; font-size:12px; }
.toggle-pill { background:#E5E7EB; border:none; padding:6px 10px; border-radius:999px; font-weight:700; cursor:pointer; }

.sim-title { color:#DC2626; font-size:18px; margin:8px 0; font-weight:700; }
.scenario-box { background: rgba(14,165,233,0.03); padding:10px; border-radius:10px; margin-bottom:10px; color:#0B3D91; }
.dialogue-script { background:#fff; padding:12px; border-radius:8px; color:#0B3D91; box-shadow:0 6px 20px rgba(2,6,23,0.05); margin-top:10px; }

.audio-controls { display:flex; align-items:center; gap:8px; margin-top:10px; }
.audio-btn { width:44px; height:44px; border-radius:50%; border:none; background:#B91C1C; color:#fff; display:inline-flex; align-items:center; justify-content:center; cursor:pointer; }
.audio-btn.urgent { animation: none; }
.audio-btn.playing { animation: urgentPulse 1s infinite; }

@keyframes urgentPulse {
  0% { box-shadow: 0 6px 18px rgba(185,28,28,0.18); transform: translateY(0); }
  50% { box-shadow: 0 12px 28px rgba(185,28,28,0.28); transform: translateY(-2px); }
  100% { box-shadow: 0 6px 18px rgba(185,28,28,0.18); transform: translateY(0); }
}

.instruction-box { background: rgba(249,250,251,0.6); padding:10px; border-radius:8px; color:#0B3D91; margin-top:10px; }
.btn-practice { background:#B91C1C; color:#fff; border:none; padding:12px 18px; border-radius:10px; font-weight:700; cursor:pointer; }
.btn-practice.urgent-btn { transition: transform .12s; }
.btn-practice.vibrate { animation: vibrate .28s linear; }
@keyframes vibrate {
  0% { transform: translateX(0); } 25% { transform: translateX(-3px); } 50% { transform: translateX(3px); } 75% { transform: translateX(-2px); } 100% { transform: translateX(0); }
}

.feedback-bubble { max-width:360px; background:#0B3D91; color:#fff; padding:10px 12px; border-radius:10px; position:relative; margin-top:12px; }
.feedback-bubble .fb-arrow { position:absolute; right:-10px; top:12px; width:0;height:0;border-top:8px solid transparent;border-bottom:8px solid transparent;border-left:10px solid #0B3D91; }
.feedback-bubble.visually-hidden { display:none; }

.dialogue-footer { margin-top:14px; display:flex; justify-content:center; }
.btn-finish { width:80%; max-width:460px; background:#B91C1C; color:#fff; padding:12px; border-radius:12px; border:none; font-weight:700; opacity:0.6; cursor:not-allowed; }
.btn-finish.enabled { opacity:1; cursor:pointer; box-shadow: 0 12px 30px rgba(185,28,28,0.12); transform: translateY(-2px); }

.alert-lights { position:absolute; inset:0; pointer-events:none; border-radius:12px; mix-blend-mode:screen; }
.alert-lights::before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 12% 12%, rgba(220,38,38,0.06), transparent 8%), radial-gradient(circle at 88% 20%, rgba(220,38,38,0.04), transparent 10%); opacity:0.9; transition:opacity .2s; }
.alert-lights.strobe::after { content:""; position:absolute; inset:0; background: rgba(220,38,38,0.06); animation: strobe 1s infinite; pointer-events:none; border-radius:12px; }
@keyframes strobe { 0% { opacity:0; } 30% { opacity:0.35; } 60% { opacity:0; } 100% { opacity:0; } }

@media (max-width:900px) {
  .sim4-scene { flex-direction:column; }
  .left-panel { width:100%; display:flex; justify-content:center; }
  .main-panel { width:100%; }
}
