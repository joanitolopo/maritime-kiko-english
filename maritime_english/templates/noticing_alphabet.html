{% extends 'base.html' %}
{% block title %}Unit {{ unit_id }} - Radio Spelling Practice{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/noticing_alphabet.css') }}">
{% endblock %}

{% block content %}
<!-- HEADER -->
<header class="top-bar">
    <div class="container d-flex justify-content-end align-items-center header-right-group">
        <a href="{{ url_for('learning.learning_unit', unit_id=unit_id, section='noticing_intro') }}" class="btn-learn-nav btn-back" aria-label="Back to Noticing Intro">
            <i class="fas fa-chevron-left me-1"></i>
            <span class="btn-text">Back</span>
        </a>
        
        <div class="current-unit-title d-flex align-items-center ms-3 me-3">
            <i class="fas fa-anchor me-2"></i>
            <span>Unit {{ unit_id }} - {{ unit_data.title }}</span>
        </div>

        <a href="{{ url_for('main.home') }}" class="btn-learn-nav btn-home" aria-label="Home">
            <i class="fas fa-home"></i>
        </a>
    </div>
</header>

<!-- MAIN CONTENT -->
<div class="main-content">
    
    <!-- LEFT SIDEBAR -->
    <aside class="drill-sidebar">
        
        <!-- Title Container -->
        <div class="title-container">
            <div class="main-title">
                <i class="fa-solid fa-anchor"></i>
                Drill it Like a Sailor
            </div>
            <div class="sub-title">
                Activity 6: Radio Spelling Practice
            </div>
        </div>

        <!-- Captain Section -->
        <img src="{{ url_for('static', filename='img/captai_check_9.png') }}" alt="Captain Character" class="captain-image">
        
        <!-- Speech Bubble -->
        <div class="drill-bubble">
            <p class="speech-text-drill">
                "Cadets, it's time to drill your pronunciation! Listen carefully to OS Lina's example, then spell and say each vessel's identification clearly - just like a real seafarer!"
            </p>
            
            <div class="drill-controls">
                <i class="fa-solid fa-play"></i>
                <i class="fa-solid fa-language"></i>
            </div>
        </div>
        
    </aside>

    <!-- RIGHT CONTENT -->
    <main class="activity-area">
        
        <!-- Activity Header -->
        <div class="activity-area-title">
            <i class="fa-solid fa-headphones"></i>
            <p class="instruction-text-drill">
                Listen to the example carefully. Then, read each card and say the ship's name, MMSI, and Call Sign clearly into your microphone.
            </p>
        </div>
        
        <!-- Activity Columns Container -->
        <div class="activity-columns-container">
            
            <!-- LEFT COLUMN: Example -->
            <div class="activity-wrapper">
                
                <!-- Example Window -->
                <div class="example-window">
                    <div class="window-header">
                        <div class="header-dots">
                            <span class="dot red"></span>
                            <span class="dot yellow"></span>
                            <span class="dot green"></span>
                        </div>
                        <span class="window-title">Example</span>
                    </div>
                    
                    <div class="window-body">
                        <p>
                            <span class="data-label">Vessel's Name:</span>
                            <span class="data-value">ANTARES</span>
                        </p>
                        <p>
                            <span class="data-label">MMSI:</span>
                            <span class="data-value">257689000</span>
                        </p>
                        <p>
                            <span class="data-label">Call Sign:</span>
                            <span class="data-value">LAPW5</span>
                        </p>
                    </div>
                </div>
                
                <!-- Media Player -->
                <div class="media-player-centered small">
                    <img src="{{ url_for('static', filename='img/captain_radio_check_4.png') }}" alt="OS Lina" class="media-image">
                    <button id="play-example-audio" class="play-now-button">
                        <i class="fa-solid fa-play"></i>
                        <i class="fa-solid fa-pause"></i>
                        <span class="btn-text">PLAY NOW</span>
                    </button>
                </div>
                
                <!-- Transcript Bubble -->
                <div class="transcript-bubble small">
                    "This is two-five-seven-six-eight-nine-zero-zero-zero, Motor Vessel ANTARES Alfa November Tango Alfa Romeo Echo Sierra, Call Sign Lima Alfa Papa Whisky Five"
                </div>
                
            </div>
            
            <!-- RIGHT COLUMN: Practice Cards -->
            <div class="activity-wrapper">
                
                <!-- Practice Card 1 -->
                <div class="practice-card-group" data-card-index="0">
                    <div class="example-window practice-card">
                        <div class="window-header">
                            <div class="header-dots">
                                <span class="dot red"></span>
                                <span class="dot yellow"></span>
                                <span class="dot green"></span>
                            </div>
                            <span class="window-title">Card 1</span>
                        </div>
                        
                        <div class="window-body">
                            <p>
                                <span class="data-label">Vessel's Name:</span>
                                <span class="data-value">APOLLON</span>
                            </p>
                            <p>
                                <span class="data-label">MMSI:</span>
                                <span class="data-value">237002600</span>
                            </p>
                            <p>
                                <span class="data-label">Call Sign:</span>
                                <span class="data-value">SWFP</span>
                            </p>
                        </div>
                    </div>
                    
                    <div class="mic-turn-box">
                        <i class="fa-solid fa-microphone mic-icon-large"></i>
                        <span>Your Turn</span>
                    </div>
                </div>
                
                <!-- Practice Card 2 -->
                <div class="practice-card-group" data-card-index="1">
                    <div class="example-window practice-card">
                        <div class="window-header">
                            <div class="header-dots">
                                <span class="dot red"></span>
                                <span class="dot yellow"></span>
                                <span class="dot green"></span>
                            </div>
                            <span class="window-title">Card 2</span>
                        </div>
                        
                        <div class="window-body">
                            <p>
                                <span class="data-label">Vessel's Name:</span>
                                <span class="data-value">BAYSTAR</span>
                            </p>
                            <p>
                                <span class="data-label">MMSI:</span>
                                <span class="data-value">440983000</span>
                            </p>
                            <p>
                                <span class="data-label">Call Sign:</span>
                                <span class="data-value">DSON9</span>
                            </p>
                        </div>
                    </div>
                    
                    <div class="mic-turn-box">
                        <i class="fa-solid fa-microphone mic-icon-large"></i>
                        <span>Your Turn</span>
                    </div>
                </div>
                
            </div>
            
        </div>
        
    </main>

</div>

<!-- FOOTER -->
<footer class="footer-nav">
    <a href="{{ url_for('learning.learning_unit', unit_id=unit_id, section='noticing_numbers') }}" class="continue-button">
        <span>Continue</span>
        <i class="fas fa-chevron-right ms-1"></i>
    </a>
</footer>

{% endblock %}

{% block page_js %}
<script>
    window.UNIT_CONTENT = {{ (content or {})|tojson|safe }};
    window.SECTION_CONTENT = {{ (section_content or {})|tojson|safe }};
    window.UNIT_ID = {{ unit_id | default(0) }};
</script>
<script src="{{ url_for('static', filename='js/noticing_alphabet.js') }}"></script>
{% endblock %}