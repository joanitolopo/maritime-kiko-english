{% extends 'base.html' %}
{% block title %}Unit {{ unit_id }} - NATO Numbers 0-9{% endblock %}

{% block page_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/input_numbers.css') }}">
{% endblock %}

{% block content %}
<!-- HEADER -->
<header class="top-bar">
    <div class="container d-flex justify-content-end align-items-center header-right-group">
        <a href="{{ url_for('learning.learning_unit', unit_id=unit_id, section='input_alphabet') }}" class="btn-learn-nav btn-back" aria-label="Back to alphabet">
            <i class="fas fa-chevron-left me-1"></i>
            <span class="btn-text">Back</span>
        </a>
        
        <div class="current-unit-title d-flex align-items-center ms-3 me-3">
            <i class="fas fa-anchor me-2"></i>
            <span>Unit {{ unit_id }} - NATO Numbers</span>
        </div>

        <a href="{{ url_for('main.home') }}" class="btn-learn-nav btn-home" aria-label="Home">
            <i class="fas fa-home"></i>
        </a>
    </div>
</header>

<!-- MAIN CONTENT -->
<div class="numbers-container">
    
    <!-- LEFT SIDEBAR -->
    <aside class="numbers-sidebar">
        
        <!-- Activity Badge -->
        <div class="activity-badge">
            <div class="badge-icon">
                <i class="fas fa-hashtag"></i>
            </div>
            <div class="badge-text">
                <h4>Master the Numbers</h4>
                <p>Activity 3: Numbers 0-9</p>
            </div>
        </div>

        <!-- Captain Card -->
        <div class="captain-instruction-card">
            <div class="captain-avatar-wrapper">
                <img src="{{ url_for('static', filename='img/captain-radio_check_3.png') }}" alt="Captain" class="captain-avatar">
                <div class="number-waves">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>

            <div class="instruction-bubble">
                <div class="bubble-header">
                    <i class="fas fa-broadcast-tower"></i>
                    <span>Captain's Instructions</span>
                </div>
                <p class="speech-text-numbers">
                    "Cadet, you've mastered the alphabet â€” well done! Now, let's train your ears for numbers at sea! Echo each number you hear and keep your radio voice steady!"
                </p>
                <div class="numbers-controls">
                    <button class="control-btn audio-btn">
                        <i class="fa-solid fa-play"></i>
                    </button>
                    <button class="control-btn translate-btn">
                        <i class="fa-solid fa-language"></i>
                        <span>Translate</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Progress Indicator -->
        <!-- <div class="progress-card">
            <div class="progress-header">
                <i class="fas fa-trophy"></i>
                <span>Your Progress</span>
            </div>
            <div class="progress-stats">
                <div class="stat-item">
                    <span class="stat-number" id="numbers-played">0</span>
                    <span class="stat-label">Numbers Played</span>
                </div>
                <div class="stat-divider"></div>
                <div class="stat-item">
                    <span class="stat-number">10</span>
                    <span class="stat-label">Total Numbers</span>
                </div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            <div class="achievement-badge" id="achievement" style="display: none;">
                <i class="fas fa-medal"></i>
                <span>All Numbers Mastered!</span>
            </div>
        </div> -->

    </aside>

    <!-- RIGHT CONTENT -->
    <main class="numbers-main">
        
        <!-- Numbers Grid Card -->
        <section class="numbers-card">
            <div class="numbers-header">
                <div class="header-left">
                    <div class="header-icon">
                        <i class="fas fa-sort-numeric-up"></i>
                    </div>
                    <div class="header-text">
                        <h3>NATO Phonetic Numbers</h3>
                        <p>Master radio communication numbers 0-9</p>
                    </div>
                </div>
                <div class="quick-actions">
                    <button class="action-btn" id="play-all-btn" title="Play all numbers">
                        <i class="fas fa-play-circle"></i>
                        <span>Play All</span>
                    </button>
                    <button class="action-btn" id="test-mode-btn" title="Test your knowledge">
                        <i class="fas fa-clipboard-check"></i>
                        <span>Test Mode</span>
                    </button>
                </div>
            </div>

            <div class="numbers-body">
                <!-- Instruction Banner -->
                <div class="instruction-banner">
                    <div class="banner-icon">
                        <i class="fas fa-radio"></i>
                    </div>
                    <div class="banner-text">
                        <h4>Radio Communication Practice</h4>
                        <p>Click any number to hear its radio pronunciation. Practice saying it clearly!</p>
                    </div>
                </div>

                <!-- Numbers Grid -->
                <div class="numbers-grid">
                    <button class="number-box" data-code="zeero" data-number="0">
                        <div class="number-display">
                            <span class="number-main">0</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">ZE-RO</span>
                        <div class="number-phonetic">Zee-roh</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="wun" data-number="1">
                        <div class="number-display">
                            <span class="number-main">1</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">WUN</span>
                        <div class="number-phonetic">Wun</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="too" data-number="2">
                        <div class="number-display">
                            <span class="number-main">2</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">TOO</span>
                        <div class="number-phonetic">Too</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="tree" data-number="3">
                        <div class="number-display">
                            <span class="number-main">3</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">TREE</span>
                        <div class="number-phonetic">Tree</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="fower" data-number="4">
                        <div class="number-display">
                            <span class="number-main">4</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">FOWER</span>
                        <div class="number-phonetic">Fow-er</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="fife" data-number="5">
                        <div class="number-display">
                            <span class="number-main">5</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">FIFE</span>
                        <div class="number-phonetic">Fife</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="six" data-number="6">
                        <div class="number-display">
                            <span class="number-main">6</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">SIX</span>
                        <div class="number-phonetic">Six</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="seven" data-number="7">
                        <div class="number-display">
                            <span class="number-main">7</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">SEVEN</span>
                        <div class="number-phonetic">Sev-en</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="eight" data-number="8">
                        <div class="number-display">
                            <span class="number-main">8</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">AIT</span>
                        <div class="number-phonetic">Ait</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>

                    <button class="number-box" data-code="niner" data-number="9">
                        <div class="number-display">
                            <span class="number-main">9</span>
                            <div class="number-pulse"></div>
                        </div>
                        <span class="number-code">NINER</span>
                        <div class="number-phonetic">Nin-er</div>
                        <div class="number-sound">
                            <i class="fas fa-volume-up"></i>
                        </div>
                    </button>
                </div>

                <!-- Practice Section -->
                <div class="practice-section" id="practice-section" style="display: none;">
                    <div class="practice-header">
                        <i class="fas fa-dumbbell"></i>
                        <h4>Quick Practice</h4>
                    </div>
                    <div class="practice-question">
                        <p>What number is: <strong id="practice-code"></strong>?</p>
                        <div class="practice-options" id="practice-options"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Continue Button -->
        <div class="continue-wrapper">
            <a href="{{ url_for('learning.learning_unit', unit_id=unit_id, section='input_mmsi') }}" class="btn-continue">
                <span>Continue to MMSI</span>
                <i class="fas fa-arrow-right"></i>
            </a>
        </div>

    </main>

</div>

{% endblock %}

{% block page_js %}
<script>
    window.UNIT_CONTENT = {{ (content or {})|tojson|safe }};
    window.SECTION_CONTENT = {{ (section_content or {})|tojson|safe }};
    window.UNIT_ID = {{ unit_id | default(0) }};
</script>
<script src="{{ url_for('static', filename='js/input_numbers.js') }}"></script>
{% endblock %}