{% extends 'base.html' %}
{% block title %}Create Account - Maritime English{% endblock %}

{% block page_css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
{% endblock %}

{% block content %}
<header class="main-header">
    <nav class="navbar navbar-expand-lg container">
        <div class="container-fluid p-0">
            <a class="navbar-brand mx-auto" href="{{ url_for('main.index') }}">
                <img src="{{ url_for('static', filename='img/logo_website.png') }}" alt="Maritime English Logo" class="logo-img">
                <span class="logo-text d-none d-sm-inline-block ms-2">Maritime English</span>
            </a>
        </div>
    </nav>
</header>

<main class="auth-page-wrapper">
    
    <div class="form-container" id="register-container">
        <div class="auth-card register-card fade-in-up">
            
            <h1 class="auth-title">Create Account</h1>
            <p class="auth-subtitle">Join the crew and start your voyage today.</p>

            <div class="row mt-4">
                <div class="col-lg-7">
                    <form method="POST" id="register-form" novalidate>
                        
                        <div class="mb-3">
                            <label for="name" class="form-label">Full Name</label>
                            <div class="input-group-modern">
                                <i class="fas fa-user"></i>
                                <input type="text" class="form-control" id="name" name="name" placeholder="John Doe" required>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label">Email</label>
                            <div class="input-group-modern">
                                <i class="fas fa-envelope"></i>
                                <input type="email" class="form-control" id="email" name="email" placeholder="your.email@sea.com" required>
                            </div>
                        </div>
                        
                        <div class="mb-3">
                            <label for="password" class="form-label">Password</label>
                            <div class="input-group-modern">
                                <i class="fas fa-lock"></i>
                                <input type="password" class="form-control" id="password" name="password" placeholder="Create a strong password" required minlength="8" style="padding-right: 45px;">
                                <i class="fas fa-eye" id="togglePassword" style="left: auto; right: 15px; cursor: pointer; z-index: 10;"></i>
                            </div>
                        </div>
                        
                        <button type="button" class="btn-action btn-action-primary w-100 mt-4 d-lg-none" id="open-modal-btn-sm">
                            <i class="fas fa-user-plus me-2"></i> Create My Account
                        </button>
                    </form>
                </div>

                <div class="col-lg-1 d-none d-lg-flex justify-content-center align-items-center">
                    <div class="vertical-divider"></div>
                </div>

                <div class="col-lg-4 d-none d-lg-flex flex-column justify-content-center">
                    <button type="button" class="btn-action btn-action-primary w-100 mb-4" id="open-modal-btn-lg">
                        <i class="fas fa-user-plus me-2"></i> Create My Account
                    </button>
                    <p class="form-link-alt text-center">
                        Already part of the crew? <br> <a href="{{ url_for('auth.login') }}">Sign In</a>
                    </p>
                </div>
            </div>
            
            <p class="form-link-alt text-center mt-3 d-lg-none">
                Already part of the crew? <a href="{{ url_for('auth.login') }}">Sign In</a>
            </p>

        </div> 
    </div> 
</main> 

<div class="modal fade" id="registerDetailModal" tabindex="-1" aria-labelledby="registerDetailModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="registerDetailModalLabel"> <i class="fas fa-anchor"></i>Before we sail, let's set up your crew identity.</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label">Gender</label>
                    <div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="genderMale" value="Male" form="register-form">
                            <label class="form-check-label" for="genderMale">Male</label>
                        </div>
                        <div class="form-check form-check-inline">
                            <input class="form-check-input" type="radio" name="gender" id="genderFemale" value="Female" form="register-form">
                            <label class="form-check-label" for="genderFemale">Female</label>
                        </div>
                    </div>
                </div>

                <div class="mb-3">
                    <label for="school_name" class="form-label">School Name</label>
                    <input type="text" class="form-control" id="school_name" name="school_name" placeholder="e.g., SMKN 1 Pelayaran" form="register-form">
                </div>
                
                <div class="mb-3">
                    <label for="major" class="form-label">Major</label>
                    <select class="form-select" id="major" name="major" form="register-form">
                        <option value="" selected disabled>Select your major</option>
                        <option value="Nautika Kapal Niaga">Nautika Kapal Niaga</option>
                        <option value="Teknika Kapal Niaga">Nautika Kapal Penangkap Ikan</option>
                    </select>
                </div>
                
                <div class="mb-3">
                    <label for="grade" class="form-label">Grade</label>
                    <select class="form-select" id="grade" name="grade" form="register-form">
                        <option value="" selected disabled>Select your grade</option>
                        <option value="X">X</option>
                        <option value="XI">XI</option>
                        <option value="XII">XII</option>
                    </select>
                </div>
                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                <button type="submit" class="btn btn-primary" form="register-form">
                    <i class="fas fa-save me-2"></i> Save My Account
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}


{% block page_js %}
<script src="{{ url_for('static', filename='js/home.js') }}"></script>
<script src="{{ url_for('static', filename='js/auth.js') }}"></script>
<script>
    // Script untuk toggle visibility password
    const togglePassword = document.querySelector('#togglePassword');
    const password = document.querySelector('#password');

    togglePassword.addEventListener('click', function (e) {
        // 1. Toggle type attribute (password <-> text)
        const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
        password.setAttribute('type', type);

        // 2. Toggle icon class (mata terbuka <-> mata dicoret)
        this.classList.toggle('fa-eye-slash'); // Icon mata dicoret
        this.classList.toggle('fa-eye');       // Icon mata biasa
    });
</script>
{% endblock %}